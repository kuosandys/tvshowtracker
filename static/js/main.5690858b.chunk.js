(this.webpackJsonptvshow_tracker=this.webpackJsonptvshow_tracker||[]).push([[0],{46:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),r=c(36),a=c.n(r),i=(c(46),c(4)),o=c(9),l=c(5),u=c.n(l),j=c(8),d=c(12),b=c(1);var h=function(e){var t=e.show,c=e.children,n=Object(o.g)();return Object(b.jsx)(d.b,{to:"".concat(n.url,"/").concat(t.id),children:c})};var x=function(e){var t,c,n,s,r,a,i=e.show,o=e.children;return Object(b.jsxs)("div",{className:"flex flex-col items-stretch overflow-hidden h-96 w-56 text-white m-4 rounded bg-gray-800",children:[Object(b.jsx)(h,{show:i,children:Object(b.jsx)("img",{src:null===(t=i.image)||void 0===t?void 0:t.medium,alt:i.name,className:"h-72 w-56 mx-auto bg-gray-300 text-lg text-center italic text-white align"})}),Object(b.jsx)("h2",{className:"text-2xl m-2 text-center truncate",children:i.name}),Object(b.jsxs)("section",{className:"self-stretch flex justify-between items-center text-sm mx-4",children:[Object(b.jsxs)("div",{className:"flex items-center",children:[Object(b.jsx)("img",{src:"https://www.countryflags.io/".concat(null===(c=i.network)||void 0===c||null===(n=c.country)||void 0===n?void 0:n.code.toLowerCase(),"/flat/32.png"),alt:(null===(s=i.network)||void 0===s||null===(r=s.country)||void 0===r?void 0:r.code)||"",className:"mr-2"}),Object(b.jsx)("h3",{className:"text-lg",children:"".concat((null===(a=i.premiered)||void 0===a?void 0:a.slice(0,4))||"-")})]}),o]})]})},m=c(20),O=c(21),f=c(29),p=c(19),v=c(17),w=c(28);c(58),c(64);w.a.initializeApp({apiKey:" AIzaSyD9JKhrwMHrQnzu5Cf2-q1B-S8op79bKsw ",authDomain:"tvshowtracker-59195.firebaseapp.com",projectId:"tvshowtracker-59195",storageBucket:"tvshowtracker-59195.appspot.com",messagingSenderId:"169165798187",appId:"1:169165798187:web:23a95d90e7c9ad5581a36e",measurementId:"G-VQSPX7NLEL"});var g=w.a.auth(),y=(new w.a.auth.GoogleAuthProvider,w.a.firestore()),N=function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,y.collection("users").doc(t).get();case 5:return c=e.sent,e.abrupt("return",Object(v.a)({},c.data()));case 9:e.prev=9,e.t0=e.catch(2),console.log("Error getting user data",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(u.a.mark((function e(t,c){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return n=y.collection("users").doc(t.email),s=t.email,e.prev=4,e.next=7,n.set(Object(v.a)({email:s},c),{merge:!0});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log("Error generating user data",e.t0);case 12:return e.abrupt("return",N(t.email));case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,c){return e.apply(this,arguments)}}(),k=function(e,t){var c=Object(p.a)(e);return t.forEach((function(t){c.includes(t)?c=e.filter((function(e){return e!==t})):c.push(t)})),c},C=function(e,t){return t},E=function(e,t,c){var s=Object(n.useReducer)(t,JSON.parse(sessionStorage.getItem(e))||c),r=Object(i.a)(s,2),a=r[0],o=r[1];return Object(n.useEffect)((function(){sessionStorage.setItem(e,JSON.stringify(a))}),[a,e]),[a,o]},I=function(e,t){var c=Object(n.useReducer)(k,e[t]||[]),s=Object(i.a)(c,2),r=s[0],a=s[1];return Object(n.useEffect)((function(){S(e,Object(f.a)({},t,r))}),[r,t,e]),[r,a]},T=Object(n.createContext)();function P(e){var t=e.children,c=Object(n.useState)(null),s=Object(i.a)(c,2),r=s[0],a=s[1];return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.onAuthStateChanged(function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:c=e.sent,a(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(b.jsx)(T.Provider,{value:r,children:t})}var D=Object(n.createContext)();function z(e){var t=e.children,c=E("trackedShows",k,[]),n=Object(i.a)(c,2),s=n[0],r=n[1];return Object(b.jsx)(D.Provider,{value:{trackedShows:s,setTrackedShows:r},children:t})}function A(e){var t=e.children,c=Object(n.useContext)(T),s=I(c,"trackedShows"),r=Object(i.a)(s,2),a=r[0],o=r[1];return Object(b.jsx)(D.Provider,{value:{trackedShows:a,setTrackedShows:o},children:t})}function L(e){var t=e.children;return Object(n.useContext)(T)?Object(b.jsx)(A,{children:t}):Object(b.jsx)(z,{children:t})}var U=function(e){var t=e.showId,c=Object(n.useContext)(D),s=c.trackedShows,r=c.setTrackedShows;return Object(b.jsx)("button",{onClick:function(){return r([+t])},className:"rounded-full h-8 w-8 border-2 ".concat(s.includes(t)?"border-indigo-300 bg-indigo-300":"border-indigo-300 hover:bg-indigo-300"),children:s.includes(t)?Object(b.jsx)(m.a,{icon:O.a,className:"text-gray-800"}):Object(b.jsx)(m.a,{icon:O.e,className:"text-white"})})};var W=function(e){var t=e.children;return Object(b.jsx)("div",{className:"w-full min-h-full bg-white pt-10 flex flex-col items-stretch",children:t})};var R=function(e){var t=e.searchResults;return Object(b.jsx)(W,{children:Object(b.jsx)("div",{className:"flex flex-wrap justify-center",children:t.map((function(e){return Object(b.jsx)(x,{show:e.show,children:Object(b.jsx)(U,{showId:e.show.id})},e.show.id)}))})})};var H=function(e){var t,c,n,s,r,a,i=e.show;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("img",{src:null===(t=i.image)||void 0===t?void 0:t.medium,alt:"TV show poster",className:"max-h-80 my-auto"}),Object(b.jsxs)("section",{className:"ml-10 my-auto",children:[Object(b.jsx)("h2",{className:"text-3xl font-medium my-5",children:i.name}),Object(b.jsxs)("h3",{children:[Object(b.jsx)("span",{className:"text-indigo-200",children:"Network: "}),(null===(c=i.network)||void 0===c?void 0:c.name)||"None"]}),Object(b.jsxs)("h3",{children:[Object(b.jsx)("span",{className:"text-indigo-200",children:"Country: "}),(null===(n=i.network)||void 0===n||null===(s=n.country)||void 0===s?void 0:s.name)||"None"]}),Object(b.jsxs)("h3",{children:[Object(b.jsx)("span",{className:"text-indigo-200",children:"Language: "}),i.language]}),Object(b.jsxs)("h3",{children:[Object(b.jsx)("span",{className:"text-indigo-200",children:"Premiered: "}),(null===(r=i.premiered)||void 0===r?void 0:r.slice(0,4))||"Unknown"]}),Object(b.jsxs)("h3",{children:[Object(b.jsx)("span",{className:"text-indigo-200",children:"Status: "}),i.status]}),Object(b.jsxs)("h3",{children:[Object(b.jsx)("span",{className:"text-indigo-200",children:"Genres: "}),null===(a=i.genres)||void 0===a?void 0:a.join(", ")]})]})]}),Object(b.jsx)("section",{children:Object(b.jsx)("p",{dangerouslySetInnerHTML:{__html:i.summary},className:"mt-5 leading-relaxed"})})]})},_=function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.prev=1,e.next=4,Promise.all(t.map(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,s,r,a,i,o,l,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.tvmaze.com/shows/".concat(t));case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,i=a.name,o=null===(n=a.network)||void 0===n||null===(s=n.country)||void 0===s?void 0:s.timezone,e.next=10,fetch("https://api.tvmaze.com/shows/".concat(t,"/episodes?specials=1"));case 10:return l=e.sent,e.next=13,l.json();case 13:j=(j=e.sent).map((function(e){return Object(v.a)(Object(v.a)({},e),{},{show:i,timezone:o})})),c=[].concat(Object(p.a)(c),Object(p.a)(j));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",c);case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.prev=1,e.next=4,Promise.all(t.map(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.tvmaze.com/shows/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:s=e.sent,c.push(s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",c);case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),G=function(e){return Object(p.a)(new Set(e.reduce((function(e,t){return e.concat(t.season)}),[]))).sort((function(e,t){return e-t}))};var J=function(e){var t,c=e.show,s=Object(n.useState)([]),r=Object(i.a)(s,2),a=r[0],o=r[1];return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_([c.id]);case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),Object(b.jsxs)("section",{className:"relative",children:[Object(b.jsxs)("div",{className:"mx-10 mb-5 p-2 grid grid-cols-4 border-2 border-gray-500 items-baseline rounded",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"mx-3",children:"Seasons: "}),G(a).length]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"mx-3",children:"Episodes:"}),a.length]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"mx-3",children:"Rating:"})," ",null===(t=c.rating)||void 0===t?void 0:t.average]}),Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"mx-3",children:"Tracking? "}),Object(b.jsx)(U,{showId:c.id})]})]}),Object(b.jsx)(H,{show:c})]})};var M=function(e){var t=e.child1,c=e.child2;return Object(b.jsxs)("div",{className:"lg:w-4/6 md:w-5/6 sm:w-full pt-10",children:[Object(b.jsx)("div",{className:"w-full pt-14 pb-10 px-14 flex flex-col bg-gray-900 text-white",children:t}),Object(b.jsx)("div",{className:"w-full bg-white",children:c})]})};var q=function(e){var t=e.searchQuery,c=e.setSearchRequested,s=Object(n.useState)([]),r=Object(i.a)(s,2),a=r[0],l=r[1];return Object(n.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var n,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.tvmaze.com/search/shows?q=".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,r=Object.values(s).sort((function(e,t){return e.score<t.score})),l(r),c(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[t,c]),Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{exact:!0,path:"/search",children:Object(b.jsxs)(W,{children:[Object(b.jsxs)("p",{className:"text-center italic",children:['Search results for "',t,'"']}),Object(b.jsx)(R,{searchResults:a})]})}),a.map((function(e){return Object(b.jsx)(o.b,{exact:!0,path:"/search/".concat(e.show.id),children:Object(b.jsx)(M,{child1:Object(b.jsx)(J,{show:e.show})})},e.show.id)}))]})};var B=function(e){var t=e.children;return Object(b.jsx)("button",Object(v.a)(Object(v.a)({className:"bg-indigo-300 font-bold hover:bg-indigo-400 rounded px-3 py-1.5 mx-3 whitespace-nowrap"},e),{},{children:t}))};var Q=function(e){var t=e.children,c=Object(n.useContext)(T);return Object(b.jsxs)("div",{className:"fixed top-0 left-0 right-0 py-1 flex items-center justify-between bg-indigo-900 text-white z-10",children:[Object(b.jsx)("ul",{className:"flex h-12 items-center",children:Object(b.jsx)("li",{className:"mx-5 font-bold hover:underline",children:Object(b.jsx)(d.b,{to:"/",children:"Home"})})}),t,c?Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)(B,{onClick:function(){return g.signOut()},children:"Sign Out"})}):Object(b.jsx)(d.b,{to:"/sign-in",children:Object(b.jsx)(B,{children:"Sign In"})})]})};var V=function(e){var t=e.showsData;return Object(b.jsx)("div",{className:"flex flex-wrap justify-center pt-5",children:t.map((function(e){return Object(b.jsx)(x,{show:e,children:Object(b.jsx)(U,{showId:e.id})},e.id)}))})},K=c(40),X=c(38),Y=c.n(X),Z=c(65),$=function(e,t,c){var n,s,r=null===e||void 0===e?void 0:e.split("-").map((function(e){return Number(e)}));return r[1]-=1,"".concat(Object(Z.a)(Object(K.a)(Date,Object(p.a)(r)),"LLL do yyyy")," ").concat(t," ").concat(null===(n=Y()(e))||void 0===n||null===(s=n.tz(c))||void 0===s?void 0:s.zoneAbbr())};var ee=function(e){var t,c=e.episode,n=e.isUpcoming;return Object(b.jsxs)("section",{className:"grid grid-cols-3 my-3",children:[Object(b.jsx)("img",{src:null===(t=c.image)||void 0===t?void 0:t.medium,alt:c.name,className:"m-auto"}),Object(b.jsxs)("div",{className:"col-span-2 pl-5",children:[Object(b.jsx)("h4",{className:"italic",children:"".concat(n?"Airs":"Aired"," ").concat($(c.airdate,c.airtime,c.timezone)||"")}),Object(b.jsx)("p",{dangerouslySetInnerHTML:{__html:c.summary},className:"mt-1"})]})]})};var te=function(e){var t=e.isWatched,c=e.onClickHandler;return Object(b.jsx)("button",{onClick:c,className:"h-6 w-6 border-2 rounded-full border-indigo-800 ".concat(t&&"bg-indigo-200"),children:t&&Object(b.jsx)(m.a,{icon:O.a,className:"text-indigo-800 text-lg pb-1.5"})})},ce=Object(n.createContext)();function ne(e){var t=e.children,c=E("watchedEpisodes",k,[]),n=Object(i.a)(c,2),s=n[0],r=n[1];return Object(b.jsx)(ce.Provider,{value:{watchedEpisodes:s,setWatchedEpisodes:r},children:t})}function se(e){var t=e.children,c=Object(n.useContext)(T),s=I(c,"watchedEpisodes"),r=Object(i.a)(s,2),a=r[0],o=r[1];return Object(b.jsx)(ce.Provider,{value:{watchedEpisodes:a,setWatchedEpisodes:o},children:t})}function re(e){var t=e.children;return Object(n.useContext)(T)?Object(b.jsx)(se,{children:t}):Object(b.jsx)(ne,{children:t})}var ae=function(e){var t=e.episodeId,c=Object(n.useContext)(ce),s=c.watchedEpisodes,r=c.setWatchedEpisodes,a=s.includes(t);return Object(b.jsx)(te,{isWatched:a,onClickHandler:function(){return r([+t])}})};var ie=function(e){var t=e.episode,c=Object(n.useState)(!1),s=Object(i.a)(c,2),r=s[0],a=s[1],o=function(e){var t=Object(Z.a)(Date.now(),"yyyy-LL-dd");return e.airdate>=t}(t);return Object(b.jsxs)("div",{className:"border-t-2 border-gray-200 flex flex-col -my-0.5",children:[Object(b.jsxs)("div",{className:"flex justify-between items-center px-5 pt-1",children:[Object(b.jsxs)("div",{className:"flex items-center flex-grow flex-nowrap",children:[Object(b.jsx)(ae,{episodeId:t.id}),Object(b.jsxs)("h3",{className:"ml-6 mr-2 w-24",children:["Episode ",t.number]}),Object(b.jsx)("h2",{className:"font-bold text-lg truncate",children:t.name})]}),o&&Object(b.jsx)("h3",{className:"text-sm italic mr-2",children:"Upcoming"}),Object(b.jsx)("button",{onClick:function(){return a((function(e){return!e}))},className:"h-10 w-10",children:r?Object(b.jsx)(m.a,{icon:O.c}):Object(b.jsx)(m.a,{icon:O.b})})]}),Object(b.jsx)("section",{className:"px-5 pb-1",children:r&&Object(b.jsx)(ee,Object(v.a)(Object(v.a)({},e),{},{isUpcoming:o}))})]})};var oe=function(e){var t=e.episodesData,c=Object(n.useState)(1),s=Object(i.a)(c,2),r=s[0],a=s[1],o=G(t);return Object(b.jsxs)("div",{children:[Object(b.jsx)("ul",{className:"flex overflow-x-scroll justify-start border-b-2 border-gray-200",children:o.map((function(e){return Object(b.jsxs)("li",{onClick:function(){return a(e)},className:"bg-white ".concat(e===r&&"font-bold bg-indigo-200"," px-3 py-3 flex-shrink-0 cursor-pointer"),children:["Season ",e]},e)}))}),t.filter((function(e){return e.season===r})).map((function(e){return Object(b.jsx)(ie,{episode:e},e.id)}))]})};var le=function(){return Object(b.jsx)("div",{className:"fixed top-10 min-h-full w-full bg-gray-100 flex justify-center items-center",children:Object(b.jsx)("span",{className:"h-12 w-12 animate-spin bg-white",children:" "})})},ue=c(39),je=function(e){var t,c=e.map((function(e){return e.genres})).reduce((function(e,t){return e.concat(t)}),[]),n={},s=Object(ue.a)(c);try{for(s.s();!(t=s.n()).done;){var r=t.value;n[r]=n.hasOwnProperty(r)?n[r]+=1:1}}catch(a){s.e(a)}finally{s.f()}return Object(p.a)(Object.entries(n)).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]})).slice(0,3)},de=function(e,t){return e.filter((function(e){return t.includes(e.id)})).map((function(e){return e.runtime})).reduce((function(e,t){return e+t}),0)};var be=function(e){var t=e.showsData,c=e.episodesData,s=Object(n.useContext)(ce).watchedEpisodes,r=Object(n.useContext)(T),a=E("username",C,"Guest"),o=Object(i.a)(a,2),l=o[0],u=o[1],j=Object(n.useState)(!1),d=Object(i.a)(j,2),h=d[0],x=d[1];return Object(b.jsxs)("section",{children:[Object(b.jsxs)("div",{className:"flex text-2xl pl-10 justify-center items-center",children:[Object(b.jsxs)("h1",{className:"mx-2",children:[t.length>0||r?"Welcome back":"Hello",","]}),r?Object(b.jsxs)("h1",{children:[r.displayName,"!"]}):Object(b.jsxs)("div",{className:"flex text-2xl justify-center items-center",children:[h?Object(b.jsx)("input",{onChange:function(e){return u(e.target.value)},value:l,className:"bg-transparent ml-2 w-32 overflow-x-scroll"}):Object(b.jsx)("h1",{className:"font-medium",children:l}),Object(b.jsx)("button",{onClick:function(){return x((function(e){return!e}))},className:"mx-2 px-2 text-sm text-indigo-300",children:h?Object(b.jsx)(m.a,{icon:O.a}):Object(b.jsx)(m.a,{icon:O.d})})]})]}),Object(b.jsxs)("section",{className:"max-w-screen-sm mx-auto grid grid-cols-2 grid-rows-2 grid-flow-col text-center border-2 border-gray-500 rounded mt-5",children:[Object(b.jsxs)("div",{className:"flex flex-col border-2 border-gray-500 justify-start py-2",children:[Object(b.jsx)("h3",{children:"Shows Tracked"}),Object(b.jsx)("span",{className:"text-3xl",children:t.length})]}),Object(b.jsxs)("div",{className:"flex flex-col border-2 border-gray-500 justify-start py-2",children:[Object(b.jsx)("h3",{children:"Episodes Watched"}),Object(b.jsxs)("span",{className:"text-3xl",children:[s.length," / ",c.length]})]}),Object(b.jsxs)("div",{className:"flex flex-col border-2 border-gray-500 justify-start py-2",children:[Object(b.jsx)("h3",{children:"Top Genres"}),Object(b.jsx)("span",{className:"text-lg",children:je(t).join(", ")})]}),Object(b.jsxs)("div",{className:"flex flex-col border-2 border-gray-500 justify-start py-2",children:[Object(b.jsx)("h3",{children:"Watch Time"}),Object(b.jsxs)("span",{className:"text-3xl",children:[de(c,s)," mins"]})]})]})]})};var he=function(){var e=Object(n.useContext)(D).setTrackedShows,t=Object(n.useState)(!0),c=Object(i.a)(t,2),s=c[0],r=c[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){r(!1)}),2e3);return function(){clearTimeout(e)}}),[]),s?Object(b.jsx)(le,{}):Object(b.jsx)(W,{children:Object(b.jsx)("div",{className:"w-full h-full bg-no-repeat bg-center bg-cover bg-tv-image flex flex-col items-center justify-center",children:Object(b.jsxs)("div",{className:"bg-black  bg-opacity-80 rounded py-16 px-20 text-white flex flex-col items-center",children:[Object(b.jsx)("h1",{className:"text-4xl my-4 font-bold",children:"What are you watching?"}),Object(b.jsxs)("ul",{className:"my-4 list-disc list-inside pl-10",children:[Object(b.jsx)("li",{children:"Browse our extensive catalog of TV shows"}),Object(b.jsx)("li",{children:"Track the shows you're watching"}),Object(b.jsx)("li",{children:"View episode details & mark the episodes you've seen"}),Object(b.jsx)("li",{children:"See your stats"})]}),Object(b.jsxs)("div",{className:"my-4",children:[Object(b.jsx)(d.b,{to:"/sign-up",children:Object(b.jsx)(B,{children:"Sign Me Up!"})}),Object(b.jsx)(B,{onClick:function(){e([431,172,1825,169,210,170])},children:"Try it Out"})]})]})})})};var xe=function(){var e=Object(n.useContext)(D).trackedShows,t=Object(n.useContext)(T),c=Object(n.useState)([]),s=Object(i.a)(c,2),r=s[0],a=s[1],l=Object(n.useState)([]),d=Object(i.a)(l,2),h=d[0],x=d[1],m=Object(n.useState)(!0),O=Object(i.a)(m,2),f=O[0],p=O[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){p(!1)}),2e3);return function(){clearTimeout(e)}}),[]),Object(n.useEffect)((function(){(function(){var t=Object(j.a)(u.a.mark((function t(){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:c=t.sent,x(c);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(n.useEffect)((function(){(function(){var t=Object(j.a)(u.a.mark((function t(){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:c=t.sent,a(c);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(b.jsxs)(o.d,{children:[Object(b.jsxs)(o.b,{exact:!0,path:"/",children:[(t||(null===e||void 0===e?void 0:e.length)>0)&&Object(b.jsx)(o.a,{to:"/shows"}),Object(b.jsx)(he,{})]}),Object(b.jsxs)(o.b,{exact:!0,path:"/shows",children:[!t&&0===(null===e||void 0===e?void 0:e.length)&&Object(b.jsx)(o.a,{to:"/"}),f&&Object(b.jsx)(le,{}),Object(b.jsx)(M,{child1:Object(b.jsx)(be,{showsData:r,episodesData:h}),child2:Object(b.jsx)(V,{showsData:r})})]}),r.map((function(e){var t,c;return Object(b.jsx)(o.b,{exact:!0,path:"/shows/".concat(e.id),children:Object(b.jsx)(M,{child1:Object(b.jsx)(H,{show:e}),child2:Object(b.jsx)(oe,{showId:e.id,timezone:null===(t=e.network)||void 0===t||null===(c=t.country)||void 0===c?void 0:c.timezone,episodesData:h.filter((function(t){return t.show===e.name}))})})},e.id)}))]})};var me=function(e){var t=e.handleSubmitSearch,c=Object(n.useState)(""),s=Object(i.a)(c,2),r=s[0],a=s[1],o=Object(n.useRef)(null);return Object(b.jsxs)("form",{onSubmit:function(e){t(e,r),o.current.value=""},className:"flex items-stretch justify-center",children:[Object(b.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)},className:"mx-3 px-3 rounded text-gray-900",ref:o}),Object(b.jsx)(B,{type:"submit",children:"Search"})]})};var Oe=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),a=Object(i.a)(r,2),l=a[0],h=a[1],x=Object(n.useState)(""),m=Object(i.a)(x,2),O=m[0],f=m[1],p=Object(n.useState)(!1),v=Object(i.a)(p,2),w=v[0],y=v[1],N=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.signInWithEmailAndPassword(c,l);case 4:y(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),f(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=e.target,c=t.name,n=t.value;"email"===c?s(n):"password"===c&&h(n)};return Object(b.jsxs)(W,{children:[w&&Object(b.jsx)(o.a,{to:"/shows"}),Object(b.jsxs)("div",{className:"w-2/6 mx-auto mt-10 flex flex-col items-center bg-black  bg-opacity-80 rounded py-8 px-10 text-white",children:[Object(b.jsx)("h1",{className:"text-2xl",children:"Sign In!"}),Object(b.jsx)("p",{className:"text-red-400 italic mt-6",children:O}),Object(b.jsxs)("form",{method:"POST",onSubmit:function(e){return N(e)},className:"flex flex-col items-start text-md my-4",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(b.jsx)("input",{type:"email",name:"email",placeholder:"abcde@gmail.com",id:"email",onChange:function(e){return S(e)},value:c,className:"mb-4 text-black"}),Object(b.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(b.jsx)("input",{type:"password",name:"password",id:"password",onChange:function(e){return S(e)},value:l,className:"mb-4 text-black"}),Object(b.jsx)("div",{className:"mx-auto my-8",children:Object(b.jsx)(B,{type:"submit",children:"Sign In"})})]}),Object(b.jsxs)("p",{className:"italic",children:["Don't have an account yet?"," ",Object(b.jsx)(d.b,{to:"/sign-up",className:"underline",children:"Sign Up"})]})]})]})};var fe=function(){var e=Object(n.useContext)(ce).watchedEpisodes,t=Object(n.useContext)(D).trackedShows,c=Object(n.useState)(""),s=Object(i.a)(c,2),r=s[0],a=s[1],l=Object(n.useState)(""),h=Object(i.a)(l,2),x=h[0],m=h[1],O=Object(n.useState)(""),f=Object(i.a)(O,2),p=f[0],v=f[1],w=Object(n.useState)(""),y=Object(i.a)(w,2),N=y[0],k=y[1],C=Object(n.useState)(!1),E=Object(i.a)(C,2),I=E[0],T=E[1],P=function(){var c=Object(j.a)(u.a.mark((function c(n){var s,i;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,c.next=4,g.createUserWithEmailAndPassword(r,x);case 4:s=c.sent,i=s.user,S(i,{displayName:p,trackedShows:t,watchedEpisodes:e}),k("You've successfully Signed Up!"),T(!0),sessionStorage.removeItem("watchedEpisodes"),sessionStorage.removeItem("trackedShows"),c.next=17;break;case 14:c.prev=14,c.t0=c.catch(1),k(c.t0.message);case 17:a(""),m(""),v("");case 20:case"end":return c.stop()}}),c,null,[[1,14]])})));return function(e){return c.apply(this,arguments)}}(),z=function(e){var t=e.target,c=t.name,n=t.value;"email"===c?a(n):"password"===c?m(n):"displayName"===c&&v(n)};return Object(b.jsxs)(W,{children:[I&&Object(b.jsx)(o.a,{to:"/shows"}),Object(b.jsxs)("div",{className:"w-2/6 mx-auto mt-10 flex flex-col items-center bg-black  bg-opacity-80 rounded py-8 px-10 text-white",children:[Object(b.jsx)("h1",{className:"text-2xl",children:"Sign Up!"}),Object(b.jsx)("p",{className:"text-red-400 italic mt-6",children:N}),Object(b.jsxs)("form",{method:"POST",onSubmit:function(e){return P(e)},className:"flex flex-col items-start text-md my-4",children:[Object(b.jsx)("label",{htmlFor:"displayName",children:"Username: "}),Object(b.jsx)("input",{type:"text",name:"displayName",placeholder:"Abcde",id:"displayName",onChange:function(e){return z(e)},value:p,className:"mb-4 text-black"}),Object(b.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(b.jsx)("input",{type:"email",name:"email",placeholder:"abcde@gmail.com",id:"email",onChange:function(e){return z(e)},value:r,className:"mb-4 text-black"}),Object(b.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(b.jsx)("input",{type:"password",name:"password",id:"password",onChange:function(e){return z(e)},value:x,className:"text-black"}),Object(b.jsx)("div",{className:"mx-auto my-8",children:Object(b.jsx)(B,{type:"submit",children:"Sign Up"})})]}),Object(b.jsxs)("p",{className:"italic",children:["Already have an account?"," ",Object(b.jsx)(d.b,{to:"/sign-in",className:"underline",children:"Sign In"})]})]})]})};var pe=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),a=Object(i.a)(r,2),l=a[0],u=a[1];return Object(b.jsx)(P,{children:Object(b.jsxs)("div",{className:"md:px-2 lg:px-10 sm:px-0 font-sans font-extralight bg-gray-100 h-full min-h-screen text-lg flex justify-center",children:[Object(b.jsx)(Q,{children:Object(b.jsx)(me,{handleSubmitSearch:function(e,t){e.preventDefault(),s(t),u(!0)}})}),Object(b.jsx)(L,{children:Object(b.jsxs)(re,{children:[l&&Object(b.jsx)(o.a,{to:"/search"}),Object(b.jsx)(xe,{}),Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{path:"/search",children:Object(b.jsx)(q,{searchQuery:c,setSearchRequested:u})}),Object(b.jsx)(o.b,{path:"/sign-up",children:Object(b.jsx)(fe,{})}),Object(b.jsx)(o.b,{path:"/sign-in",children:Object(b.jsx)(Oe,{})})]})]})})]})})};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(d.a,{basename:"/",children:Object(b.jsx)(pe,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.5690858b.chunk.js.map